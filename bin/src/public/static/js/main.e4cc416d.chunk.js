(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,a,t){e.exports=t(33)},29:function(e,a,t){},33:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),c=t.n(l),o=(t(28),t(29),t(9)),i=t(11),s=t(12),u=t(7),p=t(16),m=t(15),g=t(39),d=t(35),h=t(36),f=t(37),E=t(38),b=t(22),v=t(40),P=function(e){var a=Object(n.useState)(!1),t=Object(b.a)(a,2),l=t[0],c=t[1],o=e.transaction;return r.a.createElement(g.a,{className:o.type,key:o.id},r.a.createElement(g.a.Body,{className:"remove-decoration",as:d.a,variant:"link",onClick:function(){return c(!l)},"aria-controls":"example-collapse-text","aria-expanded":l},r.a.createElement("label",null,"Type: ",o.type," "),r.a.createElement("br",null),r.a.createElement("label",null,"Amount: $",o.amount," "),r.a.createElement(v.a,{className:"class",in:l},r.a.createElement("div",null,r.a.createElement("label",null,"Id: ",o.id," "),r.a.createElement("br",null),r.a.createElement("label",null,"Effective date: ",o.effectiveDate," ")))))},k=function(e){return r.a.createElement(h.a,{className:"pb-5"},r.a.createElement(f.a,null,r.a.createElement(E.a,{className:"float-left p-0 font-italic"},r.a.createElement("h1",null,e.title),r.a.createElement("br",null))),r.a.createElement(f.a,null),r.a.createElement(f.a,null,r.a.createElement(E.a,null,e.transactions.map((function(e){return r.a.createElement(P,{key:e.id,transaction:e})})))))},O=t(41),y=function(e){Object(p.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"getPaginationItems",value:function(e,a){var t=this,n=[];1!==e&&n.push.apply(n,[r.a.createElement(O.a.Prev,{key:"prev",onClick:function(){return t.props.onPageChangeHandler(t.props.page-1)}}),r.a.createElement(O.a.Ellipsis,{key:"first",onClick:function(){return t.props.onPageChangeHandler(1)}})]);for(var l=function(e){n.push(r.a.createElement(O.a.Item,{key:e,active:e===t.props.page,disabled:e===t.props.page,onClick:function(){return t.props.onPageChangeHandler(e)}},e))},c=e;c<=a;c++)l(c);return a!==this.props.totalPages&&n.push.apply(n,[r.a.createElement(O.a.Ellipsis,{key:"last",onClick:function(){return t.props.onPageChangeHandler(t.props.totalPages)}}),r.a.createElement(O.a.Next,{key:"next",onClick:function(){return t.props.onPageChangeHandler(t.props.page+1)}})]),n}},{key:"render",value:function(){var e=function(e,a){var t=e>Math.round(2.5)?Math.round(2.5):Math.max(e-1,0),n=5-t;return{startPage:e-t,endPage:e+(a-e>=n?n:a-e)}}(this.props.page,this.props.totalPages),a=e.startPage,t=e.endPage,n=this.getPaginationItems(a,t);return r.a.createElement(O.a,null,n)}}]),t}(r.a.Component),C=function(e){Object(p.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={transactions:[],page:1,totalPages:0,pagedTransactions:[]},n.onRefresh=n.onRefresh.bind(Object(u.a)(n)),n.onPageChangeHandler=n.onPageChangeHandler.bind(Object(u.a)(n)),n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setData()}},{key:"setData",value:function(){var e=this;new Promise((function(e){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).BASE_URL||"","/api/transaction")).then((function(e){return e.json()})).then((function(a){fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).BASE_URL||"","/api/")).then((function(e){return e.json()})).then((function(t){var n=Math.ceil(a.transactions.length/5);e(Object(o.a)({},a,{balance:t.balance.toFixed(2)},{totalPages:n}))}))}))})).then((function(a){return e.setState((function(t){return Object(o.a)({},t,{},a,{pagedTransactions:e.getPagedData(t.page,a.transactions)})}))}))}},{key:"onRefresh",value:function(){this.setData()}},{key:"getPagedData",value:function(e,a){return a.slice(5*(e-1),5*e)}},{key:"onPageChangeHandler",value:function(e){var a=this;this.setState((function(t){return Object(o.a)({},t,{page:e,pagedTransactions:a.getPagedData(e,t.transactions)})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(g.a,null,r.a.createElement(g.a.Header,{className:"shadow font-italic sticky-top badge-dark py-0"},r.a.createElement("label",null,"Your account's Balance:"),r.a.createElement("br",null),"$",this.state.balance,r.a.createElement(d.a,{className:"float-right",onClick:function(){return e.onRefresh()}},"Refresh!")),r.a.createElement(g.a.Body,{className:"back-balance"},r.a.createElement(k,{title:"Your transactions",transactions:this.state.pagedTransactions})),r.a.createElement(g.a.Footer,{className:"bg-secondary fixed-bottom py-0"},r.a.createElement(y,{totalPages:this.state.totalPages,page:this.state.page,onPageChangeHandler:this.onPageChangeHandler})))}}]),t}(r.a.Component),j=function(){return document.title="Accounting Notebook",r.a.createElement("div",null,r.a.createElement(C,null))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.e4cc416d.chunk.js.map